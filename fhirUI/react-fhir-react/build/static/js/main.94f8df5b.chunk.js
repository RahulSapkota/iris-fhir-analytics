(this["webpackJsonpreact-tutorial"]=this["webpackJsonpreact-tutorial"]||[]).push([[0],{42:function(e,t,r){e.exports=r(43)},43:function(e,t,r){"use strict";r.r(t);var a=r(25),n=r(26),s=r(28),c=r(27),o=r(35),i=r(0),l=r.n(i),u=r(14),h=r.n(u),p=r(63),f=r(57),d=r(59),m=r(65),b=r(64),v=r(60),y=r(61),g=r(58),w=r(20),E=(r(50),r(51),r(52),window.location.search.substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){return e[t[0]]=t[1],e}),{}));function j(e){var t=e.children,r=e.value,a=e.index,n=Object(o.a)(e,["children","value","index"]);return l.a.createElement("div",Object.assign({role:"tabpanel",hidden:r!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},n),r===a&&l.a.createElement(p.a,{p:3},l.a.createElement(f.a,null,t)))}Object(g.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));var S=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).state={},n}return Object(n.a)(r,[{key:"getDetailsHandler",value:function(){this.setState({isShowDetails:!this.state.isShowDetails})}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},D.length?D.map((function(e){return l.a.createElement(O,{resource:e})})):l.a.createElement("span",null,"No data"))}}]),r}(l.a.Component),O=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).state={tabValue:0,isShowDetails:!1,resourceTypes:[],resources:[]},n}return Object(n.a)(r,[{key:"getDetailsHandler",value:function(){var e=this;this.props.resource&&this.props.resource.id&&(this.state.isShowDetails?this.setState({isShowDetails:!1}):fetch("http://localhost:32783/fhir/r4/Patient/".concat(this.props.resource.id,"/$everything"),{headers:{accept:"application/fhir+json","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7,es;q=0.6","cache-control":"no-cache","content-type":"application/fhir+json;charset=UTF-8",pragma:"no-cache","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-requested-with":"XMLHttpRequest"},referrer:"http://localhost:32783/csp/user/fhirUI/FHIRAppDemo.html",referrerPolicy:"no-referrer-when-downgrade",body:null,method:"GET",mode:"cors",credentials:"include"}).then((function(e){return e.json()})).then((function(t){var r=t.entry.map((function(e){return e.resource})).reduce((function(e,t){return e.hasOwnProperty(t.resourceType)||(e[t.resourceType]=[]),e[t.resourceType].push(t),e}),{});delete r.Patient,e.setState({isShowDetails:!e.state.isShowDetails}),e.setState({resourceTypes:Object.keys(r).sort()}),e.setState({resources:r})})))}},{key:"handleChangeTab",value:function(e,t){var r=this;Promise.resolve().then((function(){return r.setState({tabValue:t})}))}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(w.FhirResource,{fhirResource:this.props.resource,fhirVersion:w.fhirVersions.R4,thorough:!0}),l.a.createElement(d.a,{onClick:function(){return e.getDetailsHandler()}},this.state.isShowDetails?"Less":"More"),this.state.isShowDetails?l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{position:"static"},l.a.createElement(b.a,{value:this.state.tabValue,onChange:function(t,r){return e.handleChangeTab(t,r)},"aria-label":"simple tabs example",variant:"scrollable",scrollButtons:"auto"},this.state.resourceTypes.map((function(e,t){return l.a.createElement(v.a,Object.assign({label:e},{id:"simple-tab-".concat(r=t),"aria-controls":"simple-tabpanel-".concat(r)}));var r})))),this.state.resourceTypes.map((function(t,r){var a=e.state.resources[t]||[];return l.a.createElement(j,{value:e.state.tabValue,index:r},a.map((function(e){return l.a.createElement(w.FhirResource,{fhirResource:e,fhirVersion:w.fhirVersions.R4,thorough:!0})})))}))):null,l.a.createElement(y.a,null))}}]),r}(l.a.Component),D=[];(function(e){if(!e)return Promise.resolve([]);var t="http://localhost:32783/fhir/r4/Patient?_id=".concat(e);return fetch(t,{headers:{accept:"application/fhir+json","cache-control":"no-cache","content-type":"application/fhir+json;charset=UTF-8",pragma:"no-cache","sec-fetch-dest":"empty","sec-fetch-mode":"cors","x-requested-with":"XMLHttpRequest"},referrerPolicy:"no-referrer-when-downgrade",body:null,method:"GET",mode:"cors",credentials:"include"}).then((function(e){return e.json()}))})(E.PatientList).then((function(e){D=e&&e.entry?e.entry.map((function(e){return e.resource})):[],h.a.render(l.a.createElement(S,null),document.getElementById("root"))}))},50:function(e,t,r){}},[[42,1,2]]]);
//# sourceMappingURL=main.94f8df5b.chunk.js.map